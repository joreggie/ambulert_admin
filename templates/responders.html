{% extends 'app.html' %}
{% set active_page = "responders" %}

{% block content %}
<div class="main">
	
	<div class="main-inner">

	    <div class="container">
					{% if request.args.get("all_fields")=="required" %}
							<div class="alert alert-danger">
								<p>All fields are <strong>required</strong></p>
							</div>
					{% elif request.args.get("add")=="success" %}
							<div class="alert alert-success">
								<p>{{request.args.get("message")}}</strong></p>
							</div>
					{% elif request.args.get("add")=="failed" %}
							<div class="alert alert-danger">
								<p>{{request.args.get("message")}}</strong></p>
						 	</div>
					{% elif request.args.get("edit")=="success" %}
							<div class="alert alert-success">
								<p>{{request.args.get("message")}}</strong></p>
							</div>
					{% elif request.args.get("edit")=="failed" %}
							<div class="alert alert-danger">
								<p>{{request.args.get("message")}}</strong></p>
						 	</div>
					{% endif %}
	      
			<div class="row">
	      	
				<div class="span12">
					
					<div class="widget">
						  
					  <div class="widget-header">
						  <i class="icon-group"></i>
							<h3>Responders</h3>
									<a href="#myModal" data-toggle="modal">
											<img src="/static/img/add.png" alt="add responders" class="pull-right padding">
									</a>
							<!-- Modal -->
							<div id="myModal" class="modal fade" role="dialog">
									<div class="modal-dialog">
										<!-- Modal content-->
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal">&times;</button>
												<h3 class="modal-title" >
														Add Responder
												</h3>
											</div>
											<div class="modal-body">
												<form method="POST">
													<div class="form-group">
														<input type="text" class="form-control" placeholder="Firstname" id="responder_firstname">
													</div>
													<div class="form-group">
															<input type="text" class="form-control" placeholder="Middlename" id="responder_middlename">
													</div>
													<div class="form-group">
															<input type="text" class="form-control" placeholder="Lastname" id="responder_lastname">
														</div>
														<button id="btnAddResponder" class="btn btn-primary pull-right">Add</button>
												</form>
											</div>
											<div class="modal-footer">
											</div>
										</div>
								
									</div>
								</div>
								<div id="editModal" class="modal fade" role="dialog">
									<div class="modal-dialog">
										<!-- Modal content-->
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal">&times;</button>
												<h3 class="modal-title" >
														Edit Responder
												</h3>
											</div>
											<div class="modal-body">
												<form method="POST">
													<input type="hidden" class="form-control" id="edit_responder_id">
													<div class="form-group">
														<input type="text" class="form-control" placeholder="Firstname" id="edit_responder_firstname">
													</div>
													<div class="form-group">
															<input type="text" class="form-control" placeholder="Middlename" id="edit_responder_middlename">
													</div>
													<div class="form-group">
															<input type="text" class="form-control" placeholder="Lastname" id="edit_responder_lastname">
														</div>
														
														<button id="btnEditResponder" class="btn btn-primary pull-right">Edit</button>
												</form>
											</div>
											<div class="modal-footer">
											</div>
										</div>
								
									</div>
								</div>

							
						</div> <!-- /widget-header -->
					  <div class="widget-content">
							<table class="table table-striped">
								<thead>
									<tr>
										<th>ID</th>
										<th>Firstname</th>
										<th>Middlename</th>
										<th>Lastname</th>
										<th>Action</th>
									</tr>
								</thead>
								
								<tbody>
									{% if responders %}
										{% for r in responders %}
											<tr>
												<td class="responder_id">{{ r.id }}</td>
												<td class="responder_firstname">{{ r.responder_firstname }}</td>
												<td class="responder_middlename">{{ r.responder_middlename }}</td>
												<td class="responder_lastname">{{ r.responder_lastname }}</td>
												<td>
													<a class="btn btn-primary" href="#editModal" data-toggle="modal" id="btnEdit1Responder">Edit</a>
													<a class="btn btn-danger" id="btnDeleteResponder">Delete</a>
												</td>
											</tr>
										{% endfor %}
									{% else %}
									<tr>
										<td colspan="5" style="text-align:center"><p class="text-center">No responders found</p></td>
									</tr>
									{% endif %}
								</tbody>
							</table>
					  </div> <!-- /widget-content -->
						  
				  </div> <!-- /widget -->
				</div><!-- span12 -->
			</div> <!-- /row -->
	    </div> <!-- /container -->
    
	</div> <!-- /main-inner -->
	    
</div> <!-- /main -->

{% endblock %}